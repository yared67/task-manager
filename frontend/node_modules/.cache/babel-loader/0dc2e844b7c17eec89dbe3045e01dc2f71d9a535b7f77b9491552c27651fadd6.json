{"ast":null,"code":"import{useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Modal=_ref=>{let{mode,setShowModal,getData,task}=_ref;const editMode=mode==='edit';const[data,setData]=useState({user_email:editMode?task.user_email:'yared@test.com',title:editMode?task.title:'',progress:editMode?task.progress:50,date:editMode?task.date:new Date()});const postData=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:8000/todos\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});console.log(response);setShowModal(false);getData();}catch(err){console.error(err);}};const editData=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:8000/\".concat(task.id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(response.status===200){setShowModal(false);getData();}}catch(err){console.error(err);}};const handleChange=e=>{const{name,value}=e.target;setData(prevData=>({...prevData,[name]:value}));};const handleSubmit=e=>{e.preventDefault();if(editMode){editData(e);}else{postData(e);}};return/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-0 top-0 w-screen h-screen bg-black bg-opacity-50 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 p-[40px] bg-white shadow-custom rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-40\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"bold-font border-none bg-transparent\",children:[\"Let's \",mode,\" your task\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"border-none bg-transparent hover:bg-red-700\",onClick:()=>setShowModal(false),children:\"x\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"py-3 px-4 my-3 rounded-lg border border-solid border-green-400\",required:true,maxLength:30,placeholder:\"new task goes here\",name:\"title\",value:data.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"range\",children:\"Drag to select your current progress\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"range\",id:\"range\",min:\"0\",max:\"100\",name:\"progress\",value:data.progress,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{className:\"px-2 py-1 text-xs rounded-lg bg-transparent border border-gray-400 hover:bg-green-700\",type:\"submit\",value:editMode?'Update Task':'Add Task'})]})]})});};export default Modal;","map":{"version":3,"names":["useState","jsxs","_jsxs","jsx","_jsx","Modal","_ref","mode","setShowModal","getData","task","editMode","data","setData","user_email","title","progress","date","Date","postData","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","console","log","err","error","editData","concat","id","status","handleChange","name","value","target","prevData","handleSubmit","className","children","onClick","onSubmit","required","maxLength","placeholder","onChange","htmlFor","type","min","max"],"sources":["C:/Users/yared/Desktop/task_management_app/frontend/src/components/Modal.js"],"sourcesContent":["import { useState } from 'react'\r\n\r\nconst Modal = ({ mode, setShowModal, getData, task }) => {\r\n  const editMode = mode === 'edit'\r\n\r\n  const [data, setData] = useState({\r\n    user_email: editMode ? task.user_email : 'yared@test.com',\r\n    title: editMode ? task.title : '',\r\n    progress: editMode ? task.progress : 50,\r\n    date: editMode ? task.date : new Date()\r\n  })\r\n\r\n  const postData = async (e) => {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:8000/todos`, {\r\n        method: \"POST\",\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(data)\r\n      })\r\n      console.log(response)\r\n      setShowModal(false)\r\n      getData()\r\n    } catch (err) {\r\n      console.error(err)\r\n    }\r\n  }\r\n\r\n  const editData = async (e) => {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:8000/${task.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(data)\r\n      })\r\n      if (response.status ===200){\r\n\r\n        setShowModal(false)\r\n      getData()\r\n      }\r\n     \r\n      \r\n    } catch (err) {\r\n      console.error(err)\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setData(prevData => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (editMode) {\r\n      editData(e)\r\n    } else {\r\n      postData(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"absolute left-0 top-0 w-screen h-screen bg-black bg-opacity-50 flex justify-center items-center\">\r\n      <div className=\"w-1/2 p-[40px] bg-white shadow-custom rounded-md\">\r\n        <div className=\"flex space-x-40\">\r\n          <h3 className=\"bold-font border-none bg-transparent\">Let's {mode} your task</h3>\r\n          <button className=\"border-none bg-transparent hover:bg-red-700\" onClick={() => setShowModal(false)}>x</button>\r\n        </div>\r\n\r\n        <form className=\"flex flex-col\" onSubmit={handleSubmit}>\r\n          <input\r\n            className=\"py-3 px-4 my-3 rounded-lg border border-solid border-green-400\"\r\n            required\r\n            maxLength={30}\r\n            placeholder=\"new task goes here\"\r\n            name=\"title\"\r\n            value={data.title}\r\n            onChange={handleChange}\r\n          />\r\n          <br />\r\n          <label htmlFor=\"range\">Drag to select your current progress</label>\r\n          <input\r\n            required\r\n            type=\"range\"\r\n            id=\"range\"\r\n            min=\"0\"\r\n            max=\"100\"\r\n            name=\"progress\"\r\n            value={data.progress}\r\n            onChange={handleChange}\r\n          />\r\n          <input\r\n            className=\"px-2 py-1 text-xs rounded-lg bg-transparent border border-gray-400 hover:bg-green-700\"\r\n            type=\"submit\"\r\n            value={editMode ? 'Update Task' : 'Add Task'}\r\n          />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Modal\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,QAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhC,KAAM,CAAAC,KAAK,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,IAAI,CAAEC,YAAY,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAAJ,IAAA,CAClD,KAAM,CAAAK,QAAQ,CAAGJ,IAAI,GAAK,MAAM,CAEhC,KAAM,CAACK,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,CAC/Bc,UAAU,CAAEH,QAAQ,CAAGD,IAAI,CAACI,UAAU,CAAG,gBAAgB,CACzDC,KAAK,CAAEJ,QAAQ,CAAGD,IAAI,CAACK,KAAK,CAAG,EAAE,CACjCC,QAAQ,CAAEL,QAAQ,CAAGD,IAAI,CAACM,QAAQ,CAAG,EAAE,CACvCC,IAAI,CAAEN,QAAQ,CAAGD,IAAI,CAACO,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CACxC,CAAC,CAAC,CAEF,KAAM,CAAAC,QAAQ,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,+BAAgC,CAC1DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAChB,IAAI,CAC3B,CAAC,CAAC,CACFiB,OAAO,CAACC,GAAG,CAACR,QAAQ,CAAC,CACrBd,YAAY,CAAC,KAAK,CAAC,CACnBC,OAAO,CAAC,CAAC,CACX,CAAE,MAAOsB,GAAG,CAAE,CACZF,OAAO,CAACG,KAAK,CAACD,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAE,QAAQ,CAAG,KAAO,CAAAb,CAAC,EAAK,CAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,0BAAAW,MAAA,CAA0BxB,IAAI,CAACyB,EAAE,EAAI,CAC/DX,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAChB,IAAI,CAC3B,CAAC,CAAC,CACF,GAAIU,QAAQ,CAACc,MAAM,GAAI,GAAG,CAAC,CAEzB5B,YAAY,CAAC,KAAK,CAAC,CACrBC,OAAO,CAAC,CAAC,CACT,CAGF,CAAE,MAAOsB,GAAG,CAAE,CACZF,OAAO,CAACG,KAAK,CAACD,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAM,YAAY,CAAIjB,CAAC,EAAK,CAC1B,KAAM,CAAEkB,IAAI,CAAEC,KAAM,CAAC,CAAGnB,CAAC,CAACoB,MAAM,CAChC3B,OAAO,CAAC4B,QAAQ,GAAK,CACnB,GAAGA,QAAQ,CACX,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,YAAY,CAAItB,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIV,QAAQ,CAAE,CACZsB,QAAQ,CAACb,CAAC,CAAC,CACb,CAAC,IAAM,CACLD,QAAQ,CAACC,CAAC,CAAC,CACb,CACF,CAAC,CAED,mBACEhB,IAAA,QAAKuC,SAAS,CAAC,iGAAiG,CAAAC,QAAA,cAC9G1C,KAAA,QAAKyC,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/D1C,KAAA,QAAKyC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B1C,KAAA,OAAIyC,SAAS,CAAC,sCAAsC,CAAAC,QAAA,EAAC,QAAM,CAACrC,IAAI,CAAC,YAAU,EAAI,CAAC,cAChFH,IAAA,WAAQuC,SAAS,CAAC,6CAA6C,CAACE,OAAO,CAAEA,CAAA,GAAMrC,YAAY,CAAC,KAAK,CAAE,CAAAoC,QAAA,CAAC,GAAC,CAAQ,CAAC,EAC3G,CAAC,cAEN1C,KAAA,SAAMyC,SAAS,CAAC,eAAe,CAACG,QAAQ,CAAEJ,YAAa,CAAAE,QAAA,eACrDxC,IAAA,UACEuC,SAAS,CAAC,gEAAgE,CAC1EI,QAAQ,MACRC,SAAS,CAAE,EAAG,CACdC,WAAW,CAAC,oBAAoB,CAChCX,IAAI,CAAC,OAAO,CACZC,KAAK,CAAE3B,IAAI,CAACG,KAAM,CAClBmC,QAAQ,CAAEb,YAAa,CACxB,CAAC,cACFjC,IAAA,QAAK,CAAC,cACNA,IAAA,UAAO+C,OAAO,CAAC,OAAO,CAAAP,QAAA,CAAC,sCAAoC,CAAO,CAAC,cACnExC,IAAA,UACE2C,QAAQ,MACRK,IAAI,CAAC,OAAO,CACZjB,EAAE,CAAC,OAAO,CACVkB,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,KAAK,CACThB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAE3B,IAAI,CAACI,QAAS,CACrBkC,QAAQ,CAAEb,YAAa,CACxB,CAAC,cACFjC,IAAA,UACEuC,SAAS,CAAC,uFAAuF,CACjGS,IAAI,CAAC,QAAQ,CACbb,KAAK,CAAE5B,QAAQ,CAAG,aAAa,CAAG,UAAW,CAC9C,CAAC,EACE,CAAC,EACJ,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}