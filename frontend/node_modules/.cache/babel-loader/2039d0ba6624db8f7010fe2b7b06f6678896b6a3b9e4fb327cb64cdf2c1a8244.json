{"ast":null,"code":"import{useState}from'react';import{useCookies}from'react-cookie';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Auth=()=>{const[cookies,setCookie,removeCookie]=useCookies(null);const[isLogIn,setIsLogin]=useState(true);const[email,setEmail]=useState(null);const[password,setPassword]=useState(null);const[confirmPassword,setConfirmPassword]=useState(null);const[error,setError]=useState(null);console.log(cookies);const viewLogin=status=>{setError(null);setIsLogin(status);};const handleSubmit=async(e,endpoint)=>{e.preventDefault();if(!isLogIn&&password!==confirmPassword){setError('Passwords do not match');return;}const response=await fetch(\"http://localhost:4000/\".concat(endpoint),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.json();if(data.detail){setError(data.detail);}else{setCookie('Email',data.email);setCookie('AuthToken',data.token);window.location.reload();}console.log(data);};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-4 bg-white shadow-lg rounded-md\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:e=>handleSubmit(e,isLogIn?'login':'signup'),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center\",children:isLogIn?'Please login':'Please sign up!'}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500\",value:password,onChange:e=>setPassword(e.target.value),required:true}),!isLogIn&&/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full py-3 text-white bg-green-500 rounded-lg cursor-pointer hover:bg-green-600\",type:\"submit\",children:isLogIn?'Login':'Sign Up'}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>viewLogin(false),className:\"px-4 py-2 font-semibold rounded-md \".concat(!isLogIn?'bg-white text-green-600':'bg-gray-200 text-gray-600'),children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>viewLogin(true),className:\"px-4 py-2 font-semibold rounded-md \".concat(isLogIn?'bg-white text-green-600':'bg-gray-200 text-gray-600'),children:\"Login\"})]})]})});};export default Auth;","map":{"version":3,"names":["useState","useCookies","jsx","_jsx","jsxs","_jsxs","Auth","cookies","setCookie","removeCookie","isLogIn","setIsLogin","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","console","log","viewLogin","status","handleSubmit","e","endpoint","preventDefault","response","fetch","concat","method","headers","body","JSON","stringify","data","json","detail","token","window","location","reload","className","children","onSubmit","type","placeholder","value","onChange","target","required","onClick"],"sources":["C:/Users/yared/Desktop/task_management_app/frontend/src/components/Auth.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nconst Auth = () => {\r\n  const [cookies, setCookie, removeCookie] = useCookies(null);\r\n  const [isLogIn, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState(null);\r\n  const [password, setPassword] = useState(null);\r\n  const [confirmPassword, setConfirmPassword] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  console.log(cookies);\r\n\r\n  const viewLogin = (status) => {\r\n    setError(null);\r\n    setIsLogin(status);\r\n  };\r\n\r\n  const handleSubmit = async (e, endpoint) => {\r\n    e.preventDefault();\r\n\r\n    if (!isLogIn && password !== confirmPassword) {\r\n      setError('Passwords do not match');\r\n      return;\r\n    }\r\n\r\n    const response = await fetch(`http://localhost:4000/${endpoint}`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (data.detail) {\r\n      setError(data.detail);\r\n    } else {\r\n      setCookie('Email', data.email);\r\n      setCookie('AuthToken', data.token);\r\n      window.location.reload();\r\n    }\r\n\r\n    console.log(data);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center h-screen bg-gray-100\">\r\n      <div className=\"w-full max-w-md p-8 space-y-4 bg-white shadow-lg rounded-md\">\r\n        <form className=\"space-y-6\" onSubmit={(e) => handleSubmit(e, isLogIn ? 'login' : 'signup')}>\r\n          <h2 className=\"text-2xl font-bold text-center\">\r\n            {isLogIn ? 'Please login' : 'Please sign up!'}\r\n          </h2>\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n          {!isLogIn && (\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Confirm Password\"\r\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n              required\r\n            />\r\n          )}\r\n          <button\r\n            className=\"w-full py-3 text-white bg-green-500 rounded-lg cursor-pointer hover:bg-green-600\"\r\n            type=\"submit\"\r\n          >\r\n            {isLogIn ? 'Login' : 'Sign Up'}\r\n          </button>\r\n          {error && <p className=\"text-red-500\">{error}</p>}\r\n        </form>\r\n        <div className=\"flex justify-center space-x-4 mt-4\">\r\n          <button\r\n            onClick={() => viewLogin(false)}\r\n            className={`px-4 py-2 font-semibold rounded-md ${!isLogIn ? 'bg-white text-green-600' : 'bg-gray-200 text-gray-600'}`}\r\n          >\r\n            Sign Up\r\n          </button>\r\n          <button\r\n            onClick={() => viewLogin(true)}\r\n            className={`px-4 py-2 font-semibold rounded-md ${isLogIn ? 'bg-white text-green-600' : 'bg-gray-200 text-gray-600'}`}\r\n          >\r\n            Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}